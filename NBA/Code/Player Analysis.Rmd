---
title: "Player Anaylsis"
output:
  html_document:
    df_print: paged
---
*美国国家篮球协会(NBA)是北美的一个男子职业篮球联盟，由30支球队(美国29支，加拿大1支)组成。它是美国和加拿大四大职业体育联盟之一，被广泛认为是世界上首屈一指的男子职业篮球联盟。*

**导入数据**
```{r}
setwd("/Users/sun/Desktop/NBA/")
player <- read.csv("/Users/sun/Desktop/NBA/player_data.csv",header = T,na.strings = "")#用na.strings=""来将数据中的空缺值变成NA,方便之后的处理
player$height <- gsub('-','.',player$height)
player$height <- as.numeric(player$height)

player <- player[-which(is.na(player$position)),]
head(player)
summary(player)
```
player数据集中共有9个变量，分别为运动员名字（字符型变量），职业生涯起点（数值型变量），职业生涯结尾（数值型变量）（由于数据涵盖的是1947-2019年中所有运动员的信息，所以运动员的职业生涯起点最晚记录到2018，截止日期也是2018），球队位置（字符型变量），球员身高（英尺-英寸），体重（单位磅），出生日期（字符型），就读学校（字符型变量）。


#球员在球队的位置分布如图，
1号位控球后卫是(PG)球场上球队事实上的领袖。这个位置需要大量的控球技巧和在比赛中帮助球队的能力。通常是球队最好的控球者和传球手。他们通常速度很快，擅长驾驶和短距离。因此，他们经常在助攻上领先全队，并且能够为自己和队友创造投篮机会。他们速度很快，可以在外线投篮，但大部分是在3分线内或上篮，这主要取决于球员的技术水平。他们能够认识到防守的弱点，和自己的进攻优势。他们负责指导比赛，好的控球后卫可以提高球队的效率，通常还能带来大量的助攻。他们通常被称为运球手或组织者。
2号位得分后卫(SG)，顾名思义，通常是最好的射手。除了能够在较远的距离准确投篮外，这个位置往往也是球队中最好的后卫。和小前锋一样，得分后卫也常被称为边锋，因为它被用在常见的位置战术中。正如它的名字所暗示的那样，大多数得分后卫都是三分球和中距离长传。成为一名得分后卫的一些关键因素是要有耐心和系统地让三分线与球的三分线成线性循环的能力。这使得球员能够正确地在空位上处理球。除了能够投篮之外，得分后卫往往是球队中最好的防守者，而且能够在没有球的情况下移动，为自己创造一个空位。一些得分后卫也有很好的控球技巧，经常在运球时创造自己的投篮机会。一个多才多艺的得分后卫将有良好的传球技巧，让他们承担控球后卫的责任，称为组合后卫。较大的得分后卫也倾向于打小前锋。

3号位小前锋(SF)在持球时通常会有一种进攻的方式。这位小前锋也以切入篮下投篮而出名。他们不是主要的控球者，但小前锋需要运球技巧。虽然他们不被期望成为伟大的内线球员，但他们需要能够上篮。虽然他们通常不是得分的首选，但他们需要能够得分。小前锋有各种各样的优势，比如速度和内线的力量。在所有的小前锋中有一个共同的特点，那就是有能力“突破”，并通过积极尝试(后插)进攻、上篮或扣篮来制造犯规。因此，准确的罚球对于小前锋来说是一项常见的技能，他们中的许多人都是从罚球线上获得了大量的分数。除了能够带球上篮外，他们还擅长远距离投篮。他们是球场上仅次于得分后卫的第二好的3分射手，而且通常他们都是在3分线以内。一些小前锋有很好的传球技巧，这使得他们可以像小前锋一样承担控球后卫的职责。小前锋应该能够在球场上做一些事情，典型的角色是像摇摆人和防守专家。

4号位大前锋(PF)经常扮演类似于中锋的角色，大前锋通常是球队最强大和最依赖的得分手，他能在离篮筐很近的地方得分，同时也能在离篮筐10-15英尺的地方进行中距离跳投。一些大前锋被称为“拉伸四人”，因为他们将投篮范围扩大到三分球。在防守上，他们需要有足够的力量去防守靠近篮筐的大个子球员，并且要有足够的运动能力去防守快速移动的球员。

5号位中锋(C)通常被称为“前场”，通常在底线附近或篮筐附近(“低位”)打球。他们通常是场上最高的球员。中锋通常内线得分，但有些人可以成为不错的外线射手。他们通常擅长抢篮板球、争夺投篮机会和掩护球员，很少有球员同时拥有高超的技术、理想的身高和耐用性。与此相匹配的是，篮球比赛节奏加快，更具有运动性，这就要求不那么传统的中锋打法和更上下起伏的球场打法。

在本数据中控球后卫和得分后卫简称G(后卫)，小前锋和大前锋简称(F),若某球员主要做前锋，有时也作为后卫，将其位置表示为F-G，而若其主要是后卫，有时出场时也在前锋位，记为G-F，以此类推。但值得注意的是，没有既做中峰也做后卫的球员即数据中无G-C和C-G。

本数据收集了从1949-2019所有任职NBA的球员信息。由于数据截止到2019年，所以其职业生涯结束年龄也记录到2019年，目前仍然在役的运动员的职业结束年龄也记为2019.








**数据可视化**
**part1.身高统计**

```{r}
library(ggplot2)
ggplot(player,aes(x=year_start,y=height))+
  geom_point(aes(col=position,size=weight),na.rm = TRUE)+
  geom_smooth(method = "loess",se=F,size=2,color="black")+
  geom_jitter(aes(colour = position),width = 0.05) +
  ylab("Height in Inch")+xlab("year")
```
从图中可以看出，中峰（橙色）是拥有最高身高和最大体重的球员其平均身高均在210cm之上，而前锋（绿色）分布在180-200cm之间，紫色后卫分布在最下方，是最低的球员；身高和体重是成正比的，橙色的点是最大的，说明体重最重，紫色的点是最小的说明体重最轻，中间绿色的点是中间大小，说明是中间体重。从上世纪50年代起，运动员的身高有短暂上升趋势，在80年代之后至今，一直保持平缓，没有再继续上升的趋势







**part2.学校统计：首先将球星所在的大学进行统计，以table的形式展示，通过词云函数得到**

```{r}
library(wordcloud2)
library(dplyr)
college_cloud <- as.data.frame(table(player$college))
wc = wordcloud2(college_cloud,size=0.1,shuffle=2,minRotation = -pi/2, maxRotation = -pi/2,rotateRatio = 0.4)
#由于我们的字符串较长，所以需要调整比例才能让全部的字符显示在图片中
wc
```
每年的选秀之夜，都会有一批新的NBA新秀听到自己的名字，希望借此机会开始自己的职业篮球生涯。许多像杜克大学这样的强队项目帮助大学生为他们的职业生涯做准备。还有很多排名在杜克大学之前的顶尖大学，如肯塔基大学、加州大学洛杉矶分校和北卡罗来纳大学等也提供培养篮球运动员的项目。上图统计得到培养了最多的篮球运动员的大学有：

肯塔基大学：拥有99名篮球运动员，野猫队不仅培养了最多的NBA球员，而且在历史上也是美国顶尖的大学篮球项目之一。肯塔基大学已经赢得了8次全国冠军，这是历史上排名第二的冠军，在学校历史上有17次进入决赛。自2009年教练约翰·卡利帕里(John Calipari)上任以来，肯塔基州的战绩是305胜71负。像安东尼·戴维斯、德马库斯·考辛斯、埃里克·布莱索和德文·布克这样的顶级球员代表着今天的NBA。

加州大学洛杉矶分校：拥有91名球员
由于传奇教练约翰·伍德和他强有力的招募，加州大学洛杉矶分校以11个总冠军保持着全美大学生体育协会冠军的记录。一些NBA的传奇人物，如卡里姆·阿卜杜尔·贾巴尔和比尔·沃顿，在成为职业球员之前都在伍登手下打球。

杜克大学：拥有71球员
杜克已经参加了41次大型赛事，并进入了16次决赛。在传奇教练迈克·沙舍夫斯基的带领下，蓝魔已经赢得了他们所有的五次全国冠军。著名的杜克球员包括凯里·欧文、格兰特·希尔、埃尔顿·布兰德、马文·巴格利和杰伊·威廉姆斯。

堪萨斯大学：拥有72的球员
堪萨斯州也有着惊人的历史，46次参加NCAA比赛，14次进入四强。松鹰队已经赢得了三次全国总冠军，几位著名的NBA球星的职业生涯也从此起步。包括威尔特·张伯伦，保罗·皮尔斯，安德鲁·威金斯，丹尼·曼宁和乔尔·恩比德。

印第安纳大学拥有60名球星，圣母大学有65名球星，路易斯维尔大学有55名球员。。。





